---
title: "Nuxt3 on Docker ã§ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰(HMR)ãŒåŠ¹ã‹ãªã„"
emoji: "ğŸ”¥"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["nuxtjs", "docker"]
published: true
---

## ç’°å¢ƒ

Nuxt: 3.0.0-rc.13
PC: M1 Mac Ventura

nuxi init ã§ nuxtç’°å¢ƒæ§‹ç¯‰

---

## å•é¡Œ

Docker ç’°å¢ƒã§Nuxt3ã®é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•å¾Œã€
vueãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£ã—ã¦ã‚‚ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ãŒåŠ¹ã‹ãšã€
ç”»é¢ãŒè‡ªå‹•ã§æ›´æ–°ã•ã‚Œãªã„ã€‚

ã¾ãŸã€Developerãƒ„ãƒ¼ãƒ«ã‚’è¦‹ã‚‹ã¨ä»¥ä¸‹ã®ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã„ã‚‹ã€‚
> client.ts:324          GET http://localhost:24678/_nuxt/ net::ERR_CONNECTION_REFUSED


---

## åŸå› 

Nuxt3 ã§ã¯ ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ç”¨ã« `24678` ãƒãƒ¼ãƒˆã§æ¥ç¶šã‚’å¾…ã¡å—ã‘ã‚‹ãŒã€
docker ã§ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰è¨­å®šã‚’ã—ã¦ã„ãªã„ãŸã‚ã€
ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã§ããšæ¥ç¶šã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã„ãŸã€‚

å•é¡ŒãŒç™ºç”Ÿã—ã¦ã„ãŸã¨ãã® `docker-compose.yml`

```yaml
# docker-compose.yml
version: '3.7'

services:
  front:
    image: node:19.0-bullseye-slim
    user: node
    ports:
      - 62080:3000
    volumes:
      - ./:/project
    working_dir: /project/front
    command: [ npm, run, dev ]
```

---

## å¯¾ç­–

`24678` ãƒãƒ¼ãƒˆã¸ã®ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰è¨­å®šã‚’è¿½åŠ ã™ã‚‹ã€‚

```yaml
# docker-compose.yml
version: '3.7'

services:
  front:
    image: node:19.0-bullseye-slim
    user: node
    ports:
      - 62080:3000
      - 24678:24678 # HMRç”¨ã®ãƒãƒ¼ãƒˆã‚’è¿½åŠ 
    volumes:
      - ./:/project
    working_dir: /project/front
    command: [ npm, run, dev ]
```