---
title: "ESLint ã«ã¤ã„ã¦ã¾ã¨ã‚ã¦ã¿ãŸ"
emoji: "ğŸƒ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["eslint"]
published: true
---

## ã“ã‚Œã¯ä½•ï¼Ÿ

ESLint ã«ã¤ã„ã¦èª¿ã¹ã¦ã¯å¿˜ã‚Œã¦ã‚’ç¹°ã‚Šè¿”ã—ã¦ã„ã‚‹ã®ã§ã€
å‹‰å¼·ã¤ã„ã§ã«è‡ªåˆ†ç”¨ã®ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã¨ã—ã¦ã¾ã¨ã‚ã¾ã—ãŸã€‚

## ESLint æ¦‚è¦

JavaScript ã®é™çš„è§£æã®ãƒ‡ãƒ•ã‚¡ã‚¯ãƒˆã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ã€‚
ãƒ«ãƒ¼ãƒ«ã«åŸºã¥ã„ã¦æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ã‚„ä¸å…·åˆã«ãªã‚Šãã†ãªç®‡æ‰€ã‚’è­¦å‘Šã—ã¦ãã‚Œã‚‹ã€‚

- [ESLint å…¬å¼](https://eslint.org/)
- [GitHub ãƒªãƒã‚¸ãƒˆãƒª](https://github.com/eslint/eslint)

## æº–å‚™

[å…¬å¼ Getting Started with ESLint](https://eslint.org/docs/latest/use/getting-started)

### è‡ªå‹•è¨­å®š

ã„ãã¤ã‹ã®è³ªå•ã«å›ç­”ã™ã‚‹ã¨è‡ªå‹•ã§è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ãã‚Œã‚‹ã€‚

```bash
npm init @eslint/config
```

### è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦è‡ªå‹•è¨­å®š

â€”config ã®å¾Œã‚ã« , åŒºåˆ‡ã‚Šã§ npm ã§å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’æŒ‡å®šã™ã‚‹ã€‚

```bash
npm init @eslint/config -- --config @nuxt/eslint-config,eslint-config-prettier
```

### ãƒãƒ‹ãƒ¥ã‚¢ãƒ«è¨­å®š

eslint ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ

```bash
npm install -D eslint
# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹ (json/yaml/yml/js/cjs)
touch .eslintrc.json
```

.eslintrc.json ã«è¨­å®šã‚’è¿½è¨˜
eslint:recommended ã® ãƒ«ãƒ¼ãƒ«å†…å®¹ã¯ [Rule Reference](https://eslint.org/docs/latest/rules/) ã‚’å‚ç…§

```json
{
  "extends": ["eslint:recommended"]
}
```

## ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³

[Command Line Interface Reference](https://eslint.org/docs/latest/use/command-line-interface)

åŸºæœ¬: `npx eslint [options] [file|dir|glob]*`

```bash
# ç‰¹å®šã®ãƒ•ã‚¡ã‚¤ãƒ«
npx eslint ./path/to/file

# ç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
npx eslint .

# ãƒã‚§ãƒƒã‚¯ã¨ä¿®æ­£ã¾ã§è¡Œã†
npx eslint --fix ./path/to/file
```

## è¨­å®š

### è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®å½¢å¼

[Configuration File Format](https://eslint.org/docs/latest/use/configure/configuration-files#configuration-file-formats)

ãƒ•ã‚¡ã‚¤ãƒ«åï¼š `.eslintrc.*`
å¯¾å¿œãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

- YAML: yml,yaml
- JSON: json
- JavaScript: js,cjs

### è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®éšå±¤

eslint ã¯å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ãƒ«ãƒ¼ãƒˆã«å‘ã‹ã£ã¦è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¢ã—ã¦ã„ãã€root ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€ã‚‚ã—ãã¯ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å†…ã« `root: true` ãŒè¦‹ã¤ã‹ã‚‹ã¾ã§ã•ã‹ã®ã¼ã£ã¦è¨­å®šã‚’ãƒãƒ¼ã‚¸ã—ã¦ã„ãã€‚
éšå±¤ãŒæ·±ã„ã»ã©å„ªå…ˆåº¦ãŒé«˜ãã€è¨­å®šã‚’ä¸Šæ›¸ãã™ã‚‹ã€‚

æ„å›³ã›ãšã•ã‹ã®ã¼ã£ã¦è¨­å®šã•ã‚Œã¦ã—ã¾ã†ã®ã‚’é˜²ããŸã‚ã«ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒˆãƒƒãƒ—ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ `root: true`ã®è¨­å®šã‚’æ¨å¥¨

```json
{
  "root": true
}
```

### ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£

#### extends

npm ã§å…¬é–‹ã•ã‚Œã¦ã„ã‚‹è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’å…ƒã«ãƒ«ãƒ¼ãƒ«ã®è¨­å®šã‚’è¡Œãˆã‚‹ã€‚
é…åˆ—å½¢å¼ã§è¤‡æ•°è¨˜è¼‰ã™ã‚‹ã“ã¨ãŒã§ãã¦ã€å¾Œã‚ã«è¡Œãã»ã©é †ä½ãŒé«˜ãè¨­å®šå€¤ãŒä¸Šæ›¸ãã•ã‚Œã¦ã„ã
ãªãŠãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åãŒ `eslint-config-hogehoge` ã¨ãªã£ã¦ã„ã‚‹å ´åˆã¯ `eslint-config-` ã‚’çœç•¥ã—ã¦ `hogehoge` ã¨ã ã‘è¨˜è¼‰ã™ã‚‹ã“ã¨ãŒã§ãã‚‹
ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒæä¾›ã—ã¦ã„ã‚‹è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã«ã¯ `plugin:` ã‚’ãƒ—ãƒ¬ãƒ•ã‚£ã‚¯ã‚¹ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ã€‚

```json
{
  "extends": [
    "hogehoge",
    "plugin:eslint-plugin-abcd/setting_name" // eslint-plugin- ã¯çœç•¥å¯èƒ½
  ]
}
```

#### plugins

npm ã§é…å¸ƒã•ã‚Œã¦ã„ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å…ƒã«ãƒ«ãƒ¼ãƒ«ã®è¿½åŠ ãªã©ã‚’è¡Œãˆã‚‹ã€‚
é…åˆ—å½¢å¼ã§è¤‡æ•°è¨˜è¼‰ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚
plugins ã§ã¯ãƒ«ãƒ¼ãƒ«ã®è¿½åŠ ã®ã¿ãªã®ã§ã€extends ã‚„ rule ã§ãƒ«ãƒ¼ãƒ«ã®è¨­å®šãŒå¿…è¦ã€‚
ãªãŠãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åãŒ `eslint-plugin-abcd` ã¨ãªã£ã¦ã„ã‚‹å ´åˆã¯ `eslint-plugin-` ã‚’çœç•¥ã—ã¦ `abcd` ã¨ã ã‘è¨˜è¼‰ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚

```json
{
  "plugins": ["abcd"],
  "extends": ["plugin:abcd/settingname"]
}
```

#### env

äºˆã‚å®šç¾©ã•ã‚Œã¦ã„ã‚‹ç’°å¢ƒã”ã¨ã®ã‚°ãƒ«ãƒ¼ãƒãƒ«å¤‰æ•°ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã€‚
é–‹ç™ºå¯¾è±¡ãŒ ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚ã‚Œã° window ãŒå®šç¾©ã—ã¦ã‚ã‚‹ã¯ãšã ãŒã€eslint ã¯ã©ã®ç’°å¢ƒã§é–‹ç™ºã—ã¦ã„ã‚‹ã‹ã‚ã‹ã‚‰ãªã„ã®ã§ã€æœªå®šç¾©ã®ã‚¨ãƒ©ãƒ¼ã¨ã—ã¦æ¤œå‡ºã•ã‚Œã¦ã—ã¾ã†ã€‚
ãã®éš›ã« env ã§ browser ã‚’ true ã«è¨­å®šã™ã‚Œã°ãƒ–ãƒ©ã‚¦ã‚¶ç’°å¢ƒä¸‹ã§ä½¿ç”¨ã§ãã‚‹ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ãŒå­˜åœ¨ã™ã‚‹ã‚‚ã®ã¨ã§ãã‚‹ã€‚

è¤‡æ•°ã®è¨­å®šã‚’æœ‰åŠ¹åŒ–ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã€‚

è¨­å®šã§ãã‚‹å€¤ï¼š[Specifying Environments](https://eslint.org/docs/latest/use/configure/language-options#specifying-environments)

```json
{
  "env": {
    "browser": true,
    "node": true
  }
}
```

#### parser

TypeScript ã‚„ Vue ã® SFC ãªã©ã€ç´ ã® JavaScript ä»¥å¤–ã‚’è§£æã™ã‚‹å ´åˆã«æŒ‡å®šã™ã‚‹ã€‚

```json
{
  "parser": ["@typescript-eslint/parser"]
}
```

## ç’°å¢ƒã”ã¨ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

### TypeScript

[https://typescript-eslint.io/getting-started/](https://typescript-eslint.io/getting-started/)

- `@typescript-eslint/eslint-plugin`
- `@typescript-eslint/parser`

```bash
npm install --D @typescript-eslint/parser @typescript-eslint/eslint-plugin eslint typescript
```

```json
{
  "root": true,
  "extends": ["eslint:recommended", "plugin:@typescript-eslint/recommended"],
  "parser": "@typescript-eslint/parser",
  "plugins": ["@typescript-eslint"]
}
```

### Nuxt3

[https://github.com/nuxt/eslint-config#nuxtjseslint-config-and-nuxtjseslint-config-typescript](https://github.com/nuxt/eslint-config#nuxtjseslint-config-and-nuxtjseslint-config-typescript)

- æ–°

  - @nuxt/eslint-config

  ```bash
  npm i -D @nuxt/eslint-config eslint
  ```

  ```json
  {
    "root": true,
    "extends": ["@nuxt/eslint-config"],
  };
  ```

### Nuxt2

- JavaScript ã®å ´åˆ

  - @nuxtjs/eslint-config
  - @babel/eslint-parser

  ```bash
  npm i -D @babel/eslint-parser @nuxtjs/eslint-config
  ```

  ```bash
  {
    "root": true,
    "parser": "@babel/eslint-parser",
    "parserOptions": {
      "sourceType": "module"
    },
    "extends": ["@nuxtjs"],
  }
  ```

- TypeScript ã®å ´åˆ

  - @nuxtjs/eslint-config-typescript
  - @babel/eslint-parser

  ```bash
  npm i -D @babel/eslint-parser @nuxtjs/eslint-config-typescript
  ```

  ```json
  {
    "root": true,
    "parser": "@babel/eslint-parser",
    "parserOptions": {
      "sourceType": "module"
    },
    "extends": ["@nuxtjs/eslint-config-typescript"]
  }
  ```

### prettier

[https://prettier.io/](https://prettier.io/)

å¾“æ¥ã¯ eslint ã‚’å®Ÿè¡Œã—ãŸã‚ã¨ã« prettier ã‚’è‡ªå‹•ã§å®Ÿè¡Œã•ã›ã‚‹ eslint-plugin-prettier ã®ä½¿ç”¨ãŒã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ã ã£ãŸãŒã€ç¾åœ¨ã¯ eslint-plugin-prettier ä½¿ç”¨ã™ã‚‹ã®ã¯éæ¨å¥¨ã€‚

ç¾åœ¨ã¯ eslint-config-prettier ã‚’ä½¿ã£ã¦ prettier ã¨è¡çªã™ã‚‹æ›¸å¼é–¢é€£ã«é–¢ã™ã‚‹ãƒ«ãƒ¼ãƒ«ã‚’ã‚ªãƒ•ã«ã—ã¦ã€ã‚¨ãƒ‡ã‚£ã‚¿ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚„ `prettier â€”check .`ã‚’ä½¿ã£ã¦ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’æ¨å¥¨ã€‚

[https://prettier.io/docs/en/integrating-with-linters.html#docsNav](https://prettier.io/docs/en/integrating-with-linters.html#docsNav)

- eslint-config-prettier
  - prettier ã¨è¡çªã™ã‚‹æ›¸å¼é–¢é€£ã«é–¢ã™ã‚‹ãƒ«ãƒ¼ãƒ«ã‚’ã‚ªãƒ•ã«ã™ã‚‹è¨­å®š

## VSCode

- æ‹¡å¼µ: [ESLint](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint)
  ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§è§£æã—ã¦ VSCode ã®ã‚¨ãƒ‡ã‚£ã‚¿ä¸Šã‚„ ã€Œå•é¡Œã€ãƒšã‚¤ãƒ³ ã« warning ã‚„ error ã‚’è¡¨ç¤ºã—ã¦ãã‚Œã‚‹ã€‚
  ä½¿ç”¨ã™ã‚‹ãŸã‚ã«ã¯ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãƒ•ã‚©ãƒ«ãƒ€å†…ã‹ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ã« eslint ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
  ãƒ¢ãƒãƒ¬ãƒãªã©ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«åˆ‡ã£ã¦ã‚ã‚‹å ´åˆã€eslint.workingDirectory ã«ãƒ‘ã‚¹ã‚’è¿½åŠ ã™ã‚‹ã‹ã€mode ã‚’ auto ã«ã™ã‚‹å¿…è¦ã‚ã‚Š

  ```json
  {
    "eslint.workingDirectories": [{ "mode": "auto" }]
  }
  ```
